<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Birthday App</title>

<style>
body {
  margin:0;
  height:100vh;
  background:#0d1117;
  color:#c9d1d9;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:monospace;
  flex-direction:column;
}

#startBtn {
  font-size:28px;
  padding:16px 42px;
  border-radius:12px;
  border:none;
  background:#238636;
  color:white;
  font-weight:bold;
}

#console {
  display:none;
  width:90%;
  max-width:600px;
  height:60vh;
  background:#161b22;
  border:1px solid #30363d;
  border-radius:8px;
  padding:16px;
  overflow:auto;
  white-space:pre-line;
}
</style>
</head>
<body>

<button id="startBtn">‚ñ∂Ô∏è START</button>
<div id="console"></div>

<audio id="music" src="music.mp3"></audio>
<audio id="paySound" src="pay.mp3"></audio>

<script>
const startBtn = document.getElementById("startBtn");
const consoleBox = document.getElementById("console");
const music = document.getElementById("music");
const pay = document.getElementById("paySound");

let text = `
// --------------------------------------------------
 // üéÇ –° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –î–∏–º–∞!
 // –ö—Ä–µ–¥–∏—Ç–∏–≤ –æ—Ç–∫—Ä—ã—Ç –æ—Ç: –î–∞–Ω–∏–ª))
 // –í—ã–ø–æ–ª–Ω—è–µ–º –æ–ø–ª–∞—Ç—É —Å—á–∞—Å—Ç—å—è...
EXECUTING PAYMENT ‚úÖ
üéÅ –î–∏–º–∞, –±–∞–ª–∞–Ω—Å –∑–¥–æ—Ä–æ–≤—å—è –∏ —Å—á–∞—Å—Ç—å—è –ø–æ–ø–æ–ª–Ω–µ–Ω!
 // –ë–∞–≥–∏ —Ç–æ–ª—å–∫–æ –≤ –∫–æ–¥–µ ‚Äî –Ω–µ –≤ –∂–∏–∑–Ω–∏ üíö
`;

let i = 0;
const speed = 40;
let payPlayed = false; // —Ñ–ª–∞–≥ —á—Ç–æ–±—ã –∑–≤—É–∫ –æ–ø–ª–∞—Ç—ã –±—ã–ª –æ–¥–∏–Ω —Ä–∞–∑

// START –∑–∞–ø—É—Å–∫–∞–µ—Ç –º—É–∑—ã–∫—É –∏ –ø–µ—á–∞—Ç–∞–µ—Ç –∫–æ–¥
startBtn.addEventListener("click", () => {
  startBtn.style.display = "none";
  consoleBox.style.display = "block";
  music.play().catch(()=>{});
  typeWriter();
});

function typeWriter() {
  if (i < text.length) {
    consoleBox.innerText = text.slice(0, i+1) + "‚ñà";

    // üëá –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ –æ–ø–ª–∞—Ç—ã –æ–¥–∏–Ω —Ä–∞–∑ –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º—É–∑—ã–∫—É
    if (consoleBox.innerText.includes("EXECUTING PAYMENT") && !payPlayed) {
      payPlayed = true;

      // –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º—É–∑—ã–∫—É –∏ –Ω–∞—á–∏–Ω–∞–µ–º –∑–∞–Ω–æ–≤–æ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
      music.pause();
      music.currentTime = 0;

      pay.currentTime = 0;
      pay.play().catch(()=>{});

      pay.onended = () => {
        music.play().catch(()=>{});
      }
    }

    i++;
    setTimeout(typeWriter, speed);
  } else {
    consoleBox.innerText = text;
    // —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã + –º—É–∑—ã–∫–∞
    pay.currentTime = 0;
    pay.play().catch(()=>{});
    pay.onended = () => {
      music.play().catch(()=>{});
    }
  }
}

// –°–æ–æ–±—â–∞–µ–º –¢–µ–ª–µ–≥—Ä–∞–º—É, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ
if (window.Telegram?.WebApp) {
  Telegram.WebApp.ready();
  Telegram.WebApp.expand();
}
</script>
</body>
</html>
